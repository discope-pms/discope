{
    "name": "Camp menu",
    "access": {
        "groups": ["booking.default.user"]
    },
    "layout": {
        "items": [
            {
                "id": "camps",
                "type": "entry",
                "label": "Camps",
                "description": "",
                "icon": "holiday_village",
                "route": "/camps",
                "context": {
                    "entity": "sale\\camp\\Camp",
                    "view": "list.default",
                    "domain": [
                        ["date_from", ">=", "date.this.year.first"],
                        ["date_from", "<=", "date.this.year.last"]
                    ]
                }
            },
            {
                "id": "enrollments",
                "type": "entry",
                "label": "Enrollments",
                "description": "",
                "icon": "app_registration",
                "route": "/camps",
                "context": {
                    "entity": "sale\\camp\\Enrollment",
                    "view": "list.default"
                }
            },
            {
                "id": "presences",
                "type": "entry",
                "label": "Presences",
                "description": "",
                "icon": "calendar_month",
                "route": "/camps",
                "context": {
                    "entity": "sale\\camp\\Presence",
                    "view": "list.default"
                }
            },
            {
                "id": "meals",
                "type": "entry",
                "label": "Meals",
                "description": "",
                "icon": "restaurant",
                "route": "/camps",
                "context": {
                    "entity": "sale\\booking\\BookingMeal",
                    "view": "list.camp-collect"
                }
            },
            {
                "id": "people",
                "label": "People",
                "description": "",
                "icon": "family_restroom",
                "type": "parent",
                "children": [
                    {
                        "id": "people.children",
                        "type": "entry",
                        "label": "Children",
                        "description": "",
                        "icon": "boy",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\Child",
                            "view": "list.default"
                        }
                    },
                    {
                        "id": "people.guardians",
                        "type": "entry",
                        "label": "Guardians",
                        "description": "",
                        "icon": "escalator_warning",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\Guardian",
                            "view": "list.default"
                        }
                    },
                    {
                        "id": "people.institutes",
                        "type": "entry",
                        "label": "Institutions",
                        "description": "",
                        "icon": "supervisor_account",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\Institution",
                            "view": "list.default"
                        }
                    }
                ]
            },
            {
                "id": "manage-current",
                "label": "Manage current",
                "description": "Manage current camps and the children attending them.",
                "icon": "boy",
                "type": "parent",
                "children": [
                    {
                        "id": "manage-current.attending-children",
                        "type": "entry",
                        "label": "Children",
                        "description": "List children by camps with birthdate + other info, add filter show only weekend (camps of week)",
                        "icon": "",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\AttendingChild",
                            "view": "list.default"
                        }
                    },
                    {
                        "id": "manage-current.children-distribution",
                        "type": "entry",
                        "label": "Children distribution",
                        "description": "Children gender, new/old and week/weekend distribution (camps of the week).",
                        "icon": "",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\stats\\stat-children-distribution",
                            "view": "list.default"
                        }
                    },
                    {
                        "id": "manage-current.pending-enrollments",
                        "type": "entry",
                        "label": "Pending enrollments",
                        "description": "List all pending enrollments (should generally come from website)",
                        "icon": "",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\Enrollment",
                            "view": "list.pending"
                        }
                    },
                    {
                        "id": "manage-current.confirmed-enrollments",
                        "type": "entry",
                        "label": "Confirmed enrollments",
                        "description": "List all confirmed enrollments with missing documents or payments.",
                        "icon": "",
                        "route": "/camps",
                        "context": {
                            "entity": "sale\\camp\\Enrollment",
                            "view": "list.confirmed"
                        }
                    }
                ]
            }
        ]
    }
}
